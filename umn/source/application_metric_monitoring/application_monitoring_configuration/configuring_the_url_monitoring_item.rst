:original_name: apm_07_0015.html

.. _apm_07_0015:

Configuring the URL Monitoring Item
===================================

On the **Modify URL Monitoring Configuration** page, set the following parameters:

.. caution::

   For security purposes, do not contain sensitive data in headers, URL parameters, cookies, or other parameters.

+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
| Parameter                            | Description                                                                                                                                                                                                                                                                                                                          | Example                                                                     |
+======================================+======================================================================================================================================================================================================================================================================================================================================+=============================================================================+
| Collection Interval                  | The default value is **60s** and cannot be changed.                                                                                                                                                                                                                                                                                  | 60s                                                                         |
+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
| Key for Header Value Interception    | Key specified for collecting values in headers. The collected information can be seen in the trace parameters.                                                                                                                                                                                                                       | Host                                                                        |
+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
| Key for Parameter Value Interception | Key specified for collecting values in URLs. The collected information can be seen in the trace parameters. Take **http://127.0.0.1/test?param=123** as an example. If the key is set to **param**, value **123** can be seen in the trace parameters.                                                                               | param                                                                       |
+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
| Key for Cookie Value Interception    | Key specified for collecting values in cookies. The collected information can be seen in the trace parameters.                                                                                                                                                                                                                       | testKey                                                                     |
+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
| URL Collection Configuration         | URLs that meet the conditions you set are aggregated. For example, **/rest/v1/test/123** and **/rest/v1/test/234** can be aggregated into **/rest/v1/test/**\ *{id}*. The configuration method is the same as that described in :ref:`HttpClient URL Normalization <apm_07_0014__en-us_topic_0000001217131578_section195174419328>`. | :ref:`Figure 1 <apm_07_0015__en-us_topic_0000001261891441_fig469405973013>` |
+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
| Blocklist Configuration              | Data of URLs that meet the conditions you set will not be collected. The configuration method is the same as that described in :ref:`HttpClient URL Normalization <apm_07_0014__en-us_topic_0000001217131578_section195174419328>`.                                                                                                  | :ref:`Figure 1 <apm_07_0015__en-us_topic_0000001261891441_fig469405973013>` |
+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
| Service Code Length                  | Maximum length of the response body to be parsed to prevent the performance from being affected. Content that beyond this limit will not be parsed, but corresponding service status codes are regarded as normal by default.                                                                                                        | ``-``                                                                       |
+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
| Key for Service Code Interception    | Key specified for collecting service status codes. If the custom API returned content is **{"errorCode":500,"errorMsg":"error msg"}**, set this parameter to **errorCode**.                                                                                                                                                          | errorCode                                                                   |
+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
| Normal Service Code                  | If this status code is returned, traces are regarded as normal. If other codes are returned, traces are regarded as abnormal.                                                                                                                                                                                                        | ``-``                                                                       |
+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
| Slow Request Threshold               | Global response time threshold. The default value is **800**. Requests with the response time longer than 800 ms are regarded as slow requests. The sampling ratio of slow requests will be increased.                                                                                                                               | ``-``                                                                       |
+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
| URL Configuration                    | Response time threshold separately set for a URL. If the response time of this URL exceeds the threshold, the sampling rate of this URL will be increased. If this parameter is not set, the global slow request threshold is used by default.                                                                                       | :ref:`Figure 1 <apm_07_0015__en-us_topic_0000001261891441_fig469405973013>` |
+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
| Error Code                           | Options: **400 or greater** and **500 or greater** (default). By default, if status code 500 or greater occurs, the system regards that there is an error.                                                                                                                                                                           | ``-``                                                                       |
+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
| URL Automatic Normalization          | Example: There are three URL invocations:                                                                                                                                                                                                                                                                                            | ``-``                                                                       |
|                                      |                                                                                                                                                                                                                                                                                                                                      |                                                                             |
|                                      | /get/xxx/a                                                                                                                                                                                                                                                                                                                           |                                                                             |
|                                      |                                                                                                                                                                                                                                                                                                                                      |                                                                             |
|                                      | /get/xxx/b                                                                                                                                                                                                                                                                                                                           |                                                                             |
|                                      |                                                                                                                                                                                                                                                                                                                                      |                                                                             |
|                                      | /get/xxx/b                                                                                                                                                                                                                                                                                                                           |                                                                             |
|                                      |                                                                                                                                                                                                                                                                                                                                      |                                                                             |
|                                      | -  If this parameter is set to **Yes**, URL automatic normalization is enabled.                                                                                                                                                                                                                                                      |                                                                             |
|                                      |                                                                                                                                                                                                                                                                                                                                      |                                                                             |
|                                      |    After normalization:                                                                                                                                                                                                                                                                                                              |                                                                             |
|                                      |                                                                                                                                                                                                                                                                                                                                      |                                                                             |
|                                      |    /get/xxx/a 1                                                                                                                                                                                                                                                                                                                      |                                                                             |
|                                      |                                                                                                                                                                                                                                                                                                                                      |                                                                             |
|                                      |    /get/xxx/b 2                                                                                                                                                                                                                                                                                                                      |                                                                             |
|                                      |                                                                                                                                                                                                                                                                                                                                      |                                                                             |
|                                      | -  If this parameter is set to **No**, URL automatic normalization is disabled.                                                                                                                                                                                                                                                      |                                                                             |
|                                      |                                                                                                                                                                                                                                                                                                                                      |                                                                             |
|                                      |    /get/xxx/{p} 3                                                                                                                                                                                                                                                                                                                    |                                                                             |
|                                      |                                                                                                                                                                                                                                                                                                                                      |                                                                             |
|                                      | -  **Use default value**: The inherited tag value is preferentially used.                                                                                                                                                                                                                                                            |                                                                             |
+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+

.. _apm_07_0015__en-us_topic_0000001261891441_fig469405973013:

.. figure:: /_static/images/en-us_image_0000001675969617.png
   :alt: **Figure 1** Example

   **Figure 1** Example
