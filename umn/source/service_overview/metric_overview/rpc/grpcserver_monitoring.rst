:original_name: apm_01_0069.html

.. _apm_01_0069:

GRPCServer Monitoring
=====================

This section describes the types, names, and meanings of GRPCServer metrics collected by APM.

.. table:: **Table 1** GRPCServer monitoring collection parameters

   +------------------------+-----------+------------------+---------+-------------------------------+-----------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter              | Data Type | Application Type | Default | Supported Start Agent Version | Supported End Agent Version | Description                                                                                                                                                                                                      |
   +========================+===========+==================+=========+===============================+=============================+==================================================================================================================================================================================================================+
   | Sampling Type          | radio     | JAVA             | 4       | 1.0.0                         | ``-``                       | Sampling type. Options: full sampling, percentage sampling, fixed-quantity sampling per minute, and intelligent sampling (default).                                                                              |
   +------------------------+-----------+------------------+---------+-------------------------------+-----------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Sampling Ratio         | integer   | JAVA             | 10      | 1.0.0                         | ``-``                       | Percentage of samples to the total number of trace data records                                                                                                                                                  |
   +------------------------+-----------+------------------+---------+-------------------------------+-----------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Samples/Minute         | integer   | JAVA             | 1000    | 1.0.0                         | ``-``                       | Number of trace data records collected every minute.                                                                                                                                                             |
   +------------------------+-----------+------------------+---------+-------------------------------+-----------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Slow Request Threshold | integer   | JAVA             | 800     | 2.0.0                         | ``-``                       | Slow request threshold. If the threshold is crossed, the method is regarded as a slow method. In that case, the trace sampling ratio will be increased by default.                                               |
   +------------------------+-----------+------------------+---------+-------------------------------+-----------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Method Configuration   | obj_array | JAVA             | ``-``   | 2.0.0                         | ``-``                       | Configure the slow request threshold and sampling ratio for each method separately. The following sampling policies can be set: percentage sampling, fixed-quantity sampling per minute, and automatic sampling. |
   +------------------------+-----------+------------------+---------+-------------------------------+-----------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. table:: **Table 2** GRPCServer monitoring metrics

   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   | Category                                                                                          | Metric        | Name          | Description                                                  | Unit  | Data Type | Default Aggregation Mode |
   +===================================================================================================+===============+===============+==============================================================+=======+===========+==========================+
   | Method monitoring (**detail**: APM counts URL call statistics by method.)                         | method        | method        | Request method                                               | ``-`` | ENUM      | LAST                     |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | concurrentMax | concurrentMax | Maximum concurrency of the method                            | ``-`` | INT       | MAX                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | errorCount    | errorCount    | Number of times that the method fails to be called           | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | invokeCount   | invokeCount   | Number of times that the method is called                    | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | maxTime       | maxTime       | Maximum response time of the method in a collection period   | ``-`` | INT       | MAX                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | runningCount  | runningCount  | Number of executions of the method at the time of collection | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | range1        | range1        | Number of requests with 0-10 ms response time                | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | range2        | range2        | Number of requests with 10-100 ms response time              | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | range3        | range3        | Number of requests with 100-500 ms response time             | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | range4        | range4        | Number of requests with 500-1000 ms response time            | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | range5        | range5        | Number of requests with 1-10s response time                  | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | range6        | range6        | Number of requests with response time longer than 10s        | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | totalTime     | totalTime     | Total response time of the method                            | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   | Cluster call (**cluster**: APM counts URL call statistics based on the cluster ID of the caller.) | clusterId     | clusterId     | Cluster ID of the caller                                     | ``-`` | ENUM      | LAST                     |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | invokeCount   | invokeCount   | Number of times the cluster is called                        | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | totalTime     | totalTime     | Total response time for calling the cluster                  | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                   | errorCount    | errorCount    | Number of times that the cluster fails to be called          | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------------------------------------+---------------+---------------+--------------------------------------------------------------+-------+-----------+--------------------------+
