:original_name: apm_01_0034.html

.. _apm_01_0034:

Cassandra Monitoring
====================

This section describes the types, names, and meanings of Cassandra metrics collected by APM.

.. table:: **Table 1** Collection parameters for Cassandra monitoring

   +-----------------------------------------------+-----------+------------------+---------+-------------------------------+-----------------------------+-------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                                     | Data Type | Application Type | Default | Supported Start Agent Version | Supported End Agent Version | Description                                                                                                                   |
   +===============================================+===========+==================+=========+===============================+=============================+===============================================================================================================================+
   | Threshold (ms) for Reporting Connection Trace | integer   | JAVA             | 1       | 2.2.9                         | ``-``                       | Threshold for reporting borrowConnection() method traces. If the threshold is not exceeded, such traces will not be reported. |
   +-----------------------------------------------+-----------+------------------+---------+-------------------------------+-----------------------------+-------------------------------------------------------------------------------------------------------------------------------+
   | Collect Original CQL Statement or Not         | radio     | JAVA             | false   | 2.2.9                         | ``-``                       | Whether to collect original CQL statements                                                                                    |
   +-----------------------------------------------+-----------+------------------+---------+-------------------------------+-----------------------------+-------------------------------------------------------------------------------------------------------------------------------+

.. table:: **Table 2** Cassandra metrics

   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   | Category                                                            | Metric        | Name          | Description                                                     | Unit  | Data Type | Default Aggregation Mode |
   +=====================================================================+===============+===============+=================================================================+=======+===========+==========================+
   | CQL call (**Cql**)                                                  | cql           | cql           | Executed CQL Statement                                          | ``-`` | ENUM      | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | concurrentMax | concurrentMax | Maximum concurrency                                             | ``-`` | INT       | MAX                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | errorCount    | errorCount    | Number of errors                                                | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | errorTraceId  | errorTraceId  | ID of the trace that encounters an error in a collection period | ``-`` | STRING    | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | invokeCount   | invokeCount   | Number of calls                                                 | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | lastError     | lastError     | Error message                                                   | ``-`` | STRING    | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | maxTime       | maxTime       | Maximum response time                                           | ``-`` | INT       | MAX                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | queryRowCount | queryRowCount | Number of read rows                                             | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | runningCount  | runningCount  | Number of executions of the method at the time of collection    | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | slowTraceId   | slowTraceId   | ID of the slowest trace in a collection period                  | ``-`` | STRING    | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | totalTime     | totalTime     | Total response time                                             | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range1        | range1        | Number of requests with 0-10 ms response time                   | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range2        | range2        | Number of requests with 10-100 ms response time                 | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range3        | range3        | Number of requests with 100-500 ms response time                | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range4        | range4        | Number of requests with 500-1000 ms response time               | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range5        | range5        | Number of requests with 1-10s response time                     | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range6        | range6        | Number of requests with response time longer than 10s           | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   | Cassandra node call (**node**)                                      | node          | node          | Node address                                                    | ``-`` | ENUM      | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | concurrentMax | concurrentMax | Maximum concurrency                                             | ``-`` | INT       | MAX                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | errorCount    | errorCount    | Number of errors                                                | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | errorTraceId  | errorTraceId  | ID of the trace that encounters an error in a collection period | ``-`` | STRING    | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | slowTraceId   | slowTraceId   | ID of the slowest trace in a collection period                  | ``-`` | STRING    | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | invokeCount   | invokeCount   | Number of calls                                                 | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | lastError     | lastError     | Error message                                                   | ``-`` | STRING    | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | maxTime       | maxTime       | Maximum response time                                           | ``-`` | INT       | MAX                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | totalTime     | totalTime     | Total response time                                             | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range1        | range1        | Number of requests with 0-10 ms response time                   | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range2        | range2        | Number of requests with 10-100 ms response time                 | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range3        | range3        | Number of requests with 100-500 ms response time                | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range4        | range4        | Number of requests with 500-1000 ms response time               | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range5        | range5        | Number of requests with 1-10s response time                     | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range6        | range6        | Number of requests with response time longer than 10s           | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   | Cassandra cluster call (**cluster**)                                | nodes         | nodes         | Cluster node information                                        | ``-`` | ENUM      | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | concurrentMax | concurrentMax | Maximum concurrency                                             | ``-`` | INT       | MAX                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | errorCount    | errorCount    | Number of errors                                                | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | errorTraceId  | errorTraceId  | ID of the trace that encounters an error in a collection period | ``-`` | STRING    | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | slowTraceId   | slowTraceId   | ID of the slowest trace in a collection period                  | ``-`` | STRING    | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | invokeCount   | invokeCount   | Number of calls                                                 | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | lastError     | lastError     | Error message                                                   | ``-`` | STRING    | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | maxTime       | maxTime       | Maximum response time                                           | ``-`` | INT       | MAX                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | totalTime     | totalTime     | Total response time                                             | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range1        | range1        | Number of requests with 0-10 ms response time                   | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range2        | range2        | Number of requests with 10-100 ms response time                 | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range3        | range3        | Number of requests with 100-500 ms response time                | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range4        | range4        | Number of requests with 500-1000 ms response time               | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range5        | range5        | Number of requests with 1-10s response time                     | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range6        | range6        | Number of requests with response time longer than 10s           | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   | Connection details (**connection**)                                 | host          | host          | Connected host                                                  | ``-`` | ENUM      | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | concurrentMax | concurrentMax | Maximum concurrency                                             | ``-`` | INT       | MAX                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | invokeCount   | invokeCount   | Number of calls                                                 | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | totalTime     | totalTime     | Total time                                                      | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | errorCount    | errorCount    | Number of errors                                                | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | maxTime       | maxTime       | Maximum response time                                           | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range1        | range1        | Number of requests with 0-10 ms response time                   | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range2        | range2        | Number of requests with 10-100 ms response time                 | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range3        | range3        | Number of requests with 100-500 ms response time                | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range4        | range4        | Number of requests with 500-1000 ms response time               | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range5        | range5        | Number of requests with 1-10s response time                     | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | range6        | range6        | Number of requests with response time longer than 10s           | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   | Exception (**exception**: Cassandra call exception statistics)      | exceptionType | exceptionType | Exception type                                                  | ``-`` | ENUM      | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | causeType     | causeType     | Exception class                                                 | ``-`` | ENUM      | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | count         | count         | Number of times the exception has occurred                      | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | message       | message       | Message returned when the exception occurred                    | ``-`` | STRING    | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | stackTrace    | stackTrace    | Exception stack information                                     | ``-`` | CLOB      | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   | Cassandra summary (**total**: summary of Cassandra call statistics) | invokeCount   | invokeCount   | Total number of calls                                           | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | queryRowCount | queryRowCount | Total number of read rows                                       | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | errorCount    | errorCount    | Total number of errors                                          | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                     | totalTime     | totalTime     | Total response time                                             | ``-`` | INT       | SUM                      |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
   | Cassandra version (**version**)                                     | version       | version       | Version                                                         | ``-`` | STRING    | LAST                     |
   +---------------------------------------------------------------------+---------------+---------------+-----------------------------------------------------------------+-------+-----------+--------------------------+
