:original_name: apm_01_0064.html

.. _apm_01_0064:

RabbitMqConsumer Monitoring
===========================

This section describes the types, names, and meanings of RabbitMqConsumer metrics collected by APM.

.. table:: **Table 1** Call metrics

   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   | Category                                                                                                       | Metric                | Name                  | Description                                                              | Unit  | Data Type | Default Aggregation Mode |
   +================================================================================================================+=======================+=======================+==========================================================================+=======+===========+==========================+
   | Exception (**exception**: exception statistics of RabbitMqConsumer calls)                                      | exceptionType         | exceptionType         | Exception type                                                           | ``-`` | ENUM      | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | causeType             | causeType             | Exception class                                                          | ``-`` | ENUM      | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | count                 | count                 | Number of times the exception has occurred                               | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | message               | message               | Message returned when the exception occurred                             | ``-`` | STRING    | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | stackTrace            | stackTrace            | Exception stack information                                              | ``-`` | CLOB      | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   | Push-mode consumption monitoring (**pushConsume**: APM counts statistics about push-mode message consumption.) | pushConsumeIdentifier | pushConsumeIdentifier | Push-mode consumption identifier                                         | ``-`` | ENUM      | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | concurrentMax         | concurrentMax         | Maximum number of messages for concurrent consumption                    | ``-`` | INT       | MAX                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | errorCount            | errorCount            | Number of message consumption errors                                     | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | errorTraceId          | errorTraceId          | ID of the trace that encounters an error in a collection period          | ``-`` | STRING    | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | invokeCount           | invokeCount           | Number of consumption call times                                         | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | consumedMsgCount      | consumedMsgCount      | Number of messages that have been consumed                               | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | consumedBytes         | consumedBytes         | Number of bytes that have been consumed                                  | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | maxSingleMsgBytes     | maxSingleMsgBytes     | Maximum number of bytes consumed each time                               | ``-`` | INT       | MAX                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | manualAckCount        | manualAckCount        | Number of ACK messages                                                   | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | rejectCount           | rejectCount           | Number of rejected messages                                              | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | requeueCount          | requeueCount          | Number of re-queued messages                                             | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | lastError             | lastError             | Information about the error that has occurred during message consumption | ``-`` | STRING    | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | maxTime               | maxTime               | Maximum response time for consuming messages                             | ``-`` | INT       | MAX                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | runningCount          | runningCount          | Number of messages that are being consumed at the time of collection     | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | slowTraceId           | slowTraceId           | ID of the slowest trace in a collection period                           | ``-`` | STRING    | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | totalTime             | totalTime             | Total response time for consuming messages                               | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range1                | range1                | Number of requests with 0-10 ms response time                            | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range2                | range2                | Number of requests with 10-100 ms response time                          | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range3                | range3                | Number of requests with 100-200 ms response time                         | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range4                | range4                | Number of requests with 200-1000 ms response time                        | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range5                | range5                | Number of requests with 1-10s response time                              | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range6                | range6                | Number of requests with response time longer than 10s                    | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | unackedMsgCount       | unackedMsgCount       | Number of unacknowledged messages in the channel                         | ``-`` | INT       | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   | Connection monitoring (**connectionConsume**: APM counts message consumption statistics by connection.)        | connection            | connection            | Consumer connection information                                          | ``-`` | ENUM      | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | connectionCount       | connectionCount       | Current number of connections                                            | ``-`` | INT       | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | channelCount          | channelCount          | Current number of channels                                               | ``-`` | INT       | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | connectionCreated     | connectionCreated     | Number of connections that have been created                             | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | connectionClosed      | connectionClosed      | Number of connections that have been destroyed                           | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | channelCreated        | channelCreated        | Number of channels that have been created                                | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | channelClosed         | channelClosed         | Number of channels that have been destroyed                              | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | concurrentMax         | concurrentMax         | Maximum number of messages for concurrent consumption                    | ``-`` | INT       | MAX                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | errorCount            | errorCount            | Number of message consumption errors                                     | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | errorTraceId          | errorTraceId          | ID of the trace that encounters an error in a collection period          | ``-`` | STRING    | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | invokeCount           | invokeCount           | Number of consumption call times                                         | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | consumedMsgCount      | consumedMsgCount      | Number of messages that have been consumed                               | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | consumedBytes         | consumedBytes         | Number of bytes that have been consumed                                  | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | maxSingleMsgBytes     | maxSingleMsgBytes     | Maximum number of bytes consumed each time                               | ``-`` | INT       | MAX                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | manualAckCount        | manualAckCount        | Number of ACK messages                                                   | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | rejectCount           | rejectCount           | Number of rejected messages                                              | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | requeueCount          | requeueCount          | Number of re-queued messages                                             | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | lastError             | lastError             | Information about the error that has occurred during message consumption | ``-`` | STRING    | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | maxTime               | maxTime               | Maximum response time for consuming messages                             | ``-`` | INT       | MAX                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | runningCount          | runningCount          | Number of messages that are being consumed at the time of collection     | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | slowTraceId           | slowTraceId           | ID of the slowest trace in a collection period                           | ``-`` | STRING    | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | totalTime             | totalTime             | Total response time for consuming messages                               | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range1                | range1                | Number of requests with 0-10 ms response time                            | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range2                | range2                | Number of requests with 10-100 ms response time                          | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range3                | range3                | Number of requests with 100-200 ms response time                         | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range4                | range4                | Number of requests with 200-1000 ms response time                        | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range5                | range5                | Number of requests with 1-10s response time                              | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range6                | range6                | Number of requests with response time longer than 10s                    | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | unackedMsgCount       | unackedMsgCount       | Number of messages that have not been acknowledged in a connection       | ``-`` | INT       | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   | Total monitoring (**total**: APM counts message consumption statistics by client.)                             | concurrentMax         | concurrentMax         | Maximum number of messages for concurrent consumption                    | ``-`` | INT       | MAX                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | errorCount            | errorCount            | Number of message consumption errors                                     | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | errorTraceId          | errorTraceId          | ID of the trace that encounters an error in a collection period          | ``-`` | STRING    | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | invokeCount           | invokeCount           | Number of consumption call times                                         | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | consumedMsgCount      | consumedMsgCount      | Number of messages that have been consumed                               | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | consumedBytes         | consumedBytes         | Number of bytes that have been consumed                                  | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | maxSingleMsgBytes     | maxSingleMsgBytes     | Maximum number of bytes consumed each time                               | ``-`` | INT       | MAX                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | manualAckCount        | manualAckCount        | Number of ACK messages                                                   | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | rejectCount           | rejectCount           | Number of rejected messages                                              | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | requeueCount          | requeueCount          | Number of re-queued messages                                             | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | lastError             | lastError             | Information about the error that has occurred during message consumption | ``-`` | STRING    | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | maxTime               | maxTime               | Maximum response time for consuming messages                             | ``-`` | INT       | MAX                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | runningCount          | runningCount          | Number of messages that are being consumed at the time of collection     | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | slowTraceId           | slowTraceId           | ID of the slowest trace in a collection period                           | ``-`` | STRING    | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | totalTime             | totalTime             | Total response time for consuming messages                               | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range1                | range1                | Number of requests with 0-10 ms response time                            | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range2                | range2                | Number of requests with 10-100 ms response time                          | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range3                | range3                | Number of requests with 100-200 ms response time                         | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range4                | range4                | Number of requests with 200-1000 ms response time                        | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range5                | range5                | Number of requests with 1-10s response time                              | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | range6                | range6                | Number of requests with response time longer than 10s                    | ``-`` | INT       | SUM                      |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                                                                                                | unackedMsgCount       | unackedMsgCount       | Number of unacknowledged messages on the client                          | ``-`` | INT       | LAST                     |
   +----------------------------------------------------------------------------------------------------------------+-----------------------+-----------------------+--------------------------------------------------------------------------+-------+-----------+--------------------------+
