:original_name: apm_01_0049.html

.. _apm_01_0049:

DubboProvider Monitoring
========================

This section describes the types, names, and meanings of DubboProvider metrics collected by APM.

.. table:: **Table 1** DubboProvider collection parameters

   +---------------------------------------------------------+-----------+------------------+-----------------------------------------------------------------------------------------------------+---------------------+-------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                                               | Data Type | Application Type | Default Value                                                                                       | Start Agent Version | End Agent Version | Description                                                                                                                                                                                                                                                                                                     |
   +=========================================================+===========+==================+=====================================================================================================+=====================+===================+=================================================================================================================================================================================================================================================================================================================+
   | Slow Request Threshold                                  | integer   | JAVA             | 800                                                                                                 | 2.0.0               | ``-``             | Threshold for determining that a request is slow (unit: ms).                                                                                                                                                                                                                                                    |
   +---------------------------------------------------------+-----------+------------------+-----------------------------------------------------------------------------------------------------+---------------------+-------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Sampling Ratio Configuration upon Slow Trace Detection  | string    | JAVA             | 100,50,10,2                                                                                         | 2.0.0               | ``-``             | Sampling ratio configuration to be applied when a slow request is detected (Example: For "100,50,10,2", the first three values respectively indicate the sampling ratio (%) under low, medium, and high CPU loads, and the last value indicates the minimum number of samples to be collected for each method.) |
   +---------------------------------------------------------+-----------+------------------+-----------------------------------------------------------------------------------------------------+---------------------+-------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Sampling Ratio Configuration upon Error Trace Detection | string    | JAVA             | 100,50,10,2                                                                                         | 2.0.0               | ``-``             | Sampling ratio configuration to be applied when an error trace is detected (Example: For "100,50,10,2", the first three values respectively indicate the sampling ratio (%) under low, medium, and high CPU loads, and the last value indicates the minimum number of samples to be collected for each method.) |
   +---------------------------------------------------------+-----------+------------------+-----------------------------------------------------------------------------------------------------+---------------------+-------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Default Sampling Ratio Configuration                    | string    | JAVA             | 20,10,5,1                                                                                           | 2.0.0               | ``-``             | Default sampling ratio configuration (Example: For "20,10,5,1", the first three values respectively indicate the sampling ratio (%) under low, medium, and high CPU loads, and the last value indicates the minimum number of samples to be collected for each method.)                                         |
   +---------------------------------------------------------+-----------+------------------+-----------------------------------------------------------------------------------------------------+---------------------+-------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Excluded Method                                         | string    | JAVA             | [{"group":"mock"},{"service":"mock*"}]                                                              | 2.0.0               | ``-``             | Method not to be traced.                                                                                                                                                                                                                                                                                        |
   +---------------------------------------------------------+-----------+------------------+-----------------------------------------------------------------------------------------------------+---------------------+-------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Method Match Rule                                       | string    | JAVA             | {{"group":"mock"}:{"percentage":10,"periodCount":1000,"sampleType":"4","slowRequestThreshold":800}} | 2.0.0               | ``-``             | Only call information about the methods that match the rule is collected.                                                                                                                                                                                                                                       |
   +---------------------------------------------------------+-----------+------------------+-----------------------------------------------------------------------------------------------------+---------------------+-------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Default Sampling Configuration                          | string    | JAVA             | {"percentage":10,"periodCount":1000,"sampleType":"4","slowRequestThreshold":800}                    | 2.0.0               | ``-``             | Default sampling configuration (If you customize Dubbo sampling, your configuration will overwrite the global configuration of APM.)                                                                                                                                                                            |
   +---------------------------------------------------------+-----------+------------------+-----------------------------------------------------------------------------------------------------+---------------------+-------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Collect Call Details                                    | radio     | JAVA             | false                                                                                               | 2.0.0               | ``-``             | Whether to collect call details such as parameters and return values (Default: not collect).                                                                                                                                                                                                                    |
   +---------------------------------------------------------+-----------+------------------+-----------------------------------------------------------------------------------------------------+---------------------+-------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Call Length                                             | integer   | JAVA             | 1000                                                                                                | 2.0.0               | ``-``             | Length of the call details to be collected (Default: 1,000 bytes).                                                                                                                                                                                                                                              |
   +---------------------------------------------------------+-----------+------------------+-----------------------------------------------------------------------------------------------------+---------------------+-------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Collect Attachment                                      | radio     | JAVA             | false                                                                                               | 2.0.0               | ``-``             | Whether to collect attachment (Default: not collect).                                                                                                                                                                                                                                                           |
   +---------------------------------------------------------+-----------+------------------+-----------------------------------------------------------------------------------------------------+---------------------+-------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Attachment Length                                       | integer   | JAVA             | 1000                                                                                                | 2.0.0               | ``-``             | Length of the attachment to be collected (Default: 1,000 bytes).                                                                                                                                                                                                                                                |
   +---------------------------------------------------------+-----------+------------------+-----------------------------------------------------------------------------------------------------+---------------------+-------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Attachment Key                                          | array     | JAVA             | ``-``                                                                                               | 2.0.0               | ``-``             | Key to be collected from Dubbo attachment.                                                                                                                                                                                                                                                                      |
   +---------------------------------------------------------+-----------+------------------+-----------------------------------------------------------------------------------------------------+---------------------+-------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Filter Key                                              | array     | JAVA             | ``-``                                                                                               | 2.0.0               | ``-``             | Sensitive information key to be filtered from Dubbo call parameters and returned information.                                                                                                                                                                                                                   |
   +---------------------------------------------------------+-----------+------------------+-----------------------------------------------------------------------------------------------------+---------------------+-------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. table:: **Table 2** Dubbo server metrics

   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   | Category                             | Metric            | Name              | Description                                                      | Unit  | Data Type | Default Aggregation Mode |
   +======================================+===================+===================+==================================================================+=======+===========+==========================+
   | Method call (**invocation**)         | serviceUniqueName | serviceUniqueName | Unique service identifier (group+interface+version)              | ``-`` | ENUM      | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | method            | method            | Method                                                           | ``-`` | ENUM      | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | source            | source            | Call source                                                      | ``-`` | ENUM      | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | lastError         | lastError         | Error message                                                    | ``-`` | STRING    | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | slowTraceId       | slowTraceId       | Slowest trace ID                                                 | ``-`` | STRING    | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | errorTraceId      | errorTraceId      | Error trace ID                                                   | ``-`` | STRING    | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range1            | range1            | Number of requests with 0-10 ms response time                    | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range2            | range2            | Number of requests with 10-100 ms response time                  | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range3            | range3            | Number of requests with 100-500 ms response time                 | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range4            | range4            | Number of requests with 500-1000 ms response time                | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range5            | range5            | Number of requests with 1-10s response time                      | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range6            | range6            | Number of requests with response time longer than 10s            | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | invokeCount       | invokeCount       | Number of calls                                                  | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | totalTime         | totalTime         | Total response time                                              | ms    | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | maxTime           | maxTime           | Maximum response time                                            | ms    | INT       | MAX                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | errorCount        | errorCount        | Number of errors                                                 | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | runningCount      | runningCount      | Number of tasks that are being executed                          | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | concurrentMax     | concurrentMax     | Maximum concurrency                                              | ``-`` | INT       | MAX                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   | Host summary (**cluster**)           | cluster           | cluster           | Host                                                             | ``-`` | ENUM      | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range1            | range1            | Number of requests with 0-10 ms response time                    | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range2            | range2            | Number of requests with 10-100 ms response time                  | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range3            | range3            | Number of requests with 100-500 ms response time                 | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range4            | range4            | Number of requests with 500-1000 ms response time                | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range5            | range5            | Number of requests with 1-10s response time                      | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range6            | range6            | Number of requests with response time longer than 10s            | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | invokeCount       | invokeCount       | Number of calls                                                  | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | totalTime         | totalTime         | Total response time                                              | ms    | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | maxTime           | maxTime           | Maximum response time                                            | ms    | INT       | MAX                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | errorCount        | errorCount        | Number of errors                                                 | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | runningCount      | runningCount      | Number of tasks that are being executed                          | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | concurrentMax     | concurrentMax     | Maximum concurrency                                              | ``-`` | INT       | MAX                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   | Return code summary (**resultCode**) | code              | code              | Return code                                                      | ``-`` | ENUM      | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | count             | count             | Number of calls                                                  | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | lastMethod        | lastMethod        | Last exception type                                              | ``-`` | STRING    | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   | Summary (**total**)                  | lastError         | lastError         | Error message                                                    | ``-`` | STRING    | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | slowTraceId       | slowTraceId       | Slowest trace ID                                                 | ``-`` | STRING    | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | errorTraceId      | errorTraceId      | Error trace ID                                                   | ``-`` | STRING    | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range1            | range1            | Number of requests with 0-10 ms response time                    | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range2            | range2            | Number of requests with 10-100 ms response time                  | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range3            | range3            | Number of requests with 100-500 ms response time                 | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range4            | range4            | Number of requests with 500-1000 ms response time                | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range5            | range5            | Number of requests with 1-10s response time                      | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | range6            | range6            | Number of requests with response time longer than 10s            | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | invokeCount       | invokeCount       | Number of calls                                                  | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | totalTime         | totalTime         | Total response time                                              | ms    | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | maxTime           | maxTime           | Maximum response time                                            | ms    | INT       | MAX                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | errorCount        | errorCount        | Number of errors                                                 | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | runningCount      | runningCount      | Number of tasks that are being executed                          | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | concurrentMax     | concurrentMax     | Maximum concurrency                                              | ``-`` | INT       | MAX                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   | Thread pool (**threadPool**)         | poolId            | poolId            | Unique ID of a thread pool                                       | ``-`` | ENUM      | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | poolType          | poolType          | Custom Dubbo thread pool type, such as fixed, cached, or limited | ``-`` | STRING    | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | activeCount       | activeCount       | Number of active threads                                         | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | corePoolSize      | corePoolSize      | Number of core threads                                           | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | maximumPoolSize   | maximumPoolSize   | Maximum number of core threads                                   | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | poolSize          | poolSize          | Size of the thread pool                                          | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | queueSize         | queueSize         | Size of the waiting queue                                        | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   |                                      | taskCount         | taskCount         | Number of tasks                                                  | ``-`` | INT       | SUM                      |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
   | Client version (**version**)         | version           | version           | Client version                                                   | ``-`` | STRING    | LAST                     |
   +--------------------------------------+-------------------+-------------------+------------------------------------------------------------------+-------+-----------+--------------------------+
